<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1203px" preserveAspectRatio="none" style="width:2059px;height:1203px;" version="1.1" viewBox="0 0 2059 1203" width="2059px" zoomAndPan="magnify"><defs><filter height="300%" id="f1g588abaf7fi" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--cluster edu.berkeley.cs.rise.opaque--><polygon fill="#FFFFFF" filter="url(#f1g588abaf7fi)" points="22,427,221,427,228,449.4883,2037,449.4883,2037,1191,22,1191,22,427" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="228" y1="449.4883" y2="449.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="193" x="26" y="442.5352">edu.berkeley.cs.rise.opaque</text><!--cluster edu.berkeley.cs.rise.opaque.benchmark--><polygon fill="#FFFFFF" filter="url(#f1g588abaf7fi)" points="46,470,131,470,138,492.4883,2013,492.4883,2013,1167,46,1167,46,470" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="46" x2="138" y1="492.4883" y2="492.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="79" x="50" y="485.5352">benchmark</text><!--cluster edu.xjtu.cs.cyx.qshield--><polygon fill="#FFFFFF" filter="url(#f1g588abaf7fi)" points="213,24,376,24,383,46.4883,1580.5,46.4883,1580.5,403,213,403,213,24" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="213" x2="383" y1="46.4883" y2="46.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="157" x="217" y="39.5352">edu.xjtu.cs.cyx.qshield</text><!--cluster edu.xjtu.cs.cyx.qshield.benchmark--><polygon fill="#FFFFFF" filter="url(#f1g588abaf7fi)" points="237,67,322,67,329,89.4883,1556.5,89.4883,1556.5,379,237,379,237,67" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="237" x2="329" y1="89.4883" y2="89.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="79" x="241" y="82.5352">benchmark</text><!--class edu.berkeley.cs.rise.opaque.benchmark.Benchmark--><rect fill="#FEFECE" filter="url(#f1g588abaf7fi)" height="80.1758" id="edu.berkeley.cs.rise.opaque.benchmark.Benchmark" style="stroke: #A80036; stroke-width: 1.5;" width="194" x="1273.5" y="660"/><ellipse cx="1334.25" cy="679.1328" fill="#DA70D6" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1333.8633,675.2153 Q1332.9253,675.2153 1332.4937,676.2156 Q1332.062,677.2158 1332.062,679.4487 Q1332.062,681.6733 1332.4937,682.6736 Q1332.9253,683.6738 1333.8633,683.6738 Q1334.8096,683.6738 1335.2412,682.6736 Q1335.6729,681.6733 1335.6729,679.4487 Q1335.6729,677.2158 1335.2412,676.2156 Q1334.8096,675.2153 1333.8633,675.2153 Z M1329.5137,679.4487 Q1329.5137,676.2695 1330.6135,674.6426 Q1331.7134,673.0156 1333.8633,673.0156 Q1336.0215,673.0156 1337.1213,674.6426 Q1338.2212,676.2695 1338.2212,679.4487 Q1338.2212,682.6196 1337.1213,684.2466 Q1336.0215,685.8735 1333.8633,685.8735 Q1331.7134,685.8735 1330.6135,684.2466 Q1329.5137,682.6196 1329.5137,679.4487 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="50" x="1361.75" y="676.6016">«Object»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="64" x="1354.75" y="690.7344">Benchmark</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1274.5" x2="1466.5" y1="698.2656" y2="698.2656"/><ellipse cx="1284.5" cy="710.2432" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="80" x="1293.5" y="712.9004">dataDir : String</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1274.5" x2="1466.5" y1="719.2207" y2="719.2207"/><ellipse cx="1284.5" cy="731.1982" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="168" x="1293.5" y="733.8555">main(args : Array[String]) : Unit</text><!--class edu.berkeley.cs.rise.opaque.benchmark.BigDataBenchmark--><rect fill="#FEFECE" filter="url(#f1g588abaf7fi)" height="119.041" id="edu.berkeley.cs.rise.opaque.benchmark.BigDataBenchmark" style="stroke: #A80036; stroke-width: 1.5;" width="574" x="261" y="505.5"/><ellipse cx="489.75" cy="524.6328" fill="#DA70D6" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M489.3633,520.7153 Q488.4253,520.7153 487.9937,521.7156 Q487.562,522.7158 487.562,524.9487 Q487.562,527.1733 487.9937,528.1736 Q488.4253,529.1738 489.3633,529.1738 Q490.3096,529.1738 490.7412,528.1736 Q491.1729,527.1733 491.1729,524.9487 Q491.1729,522.7158 490.7412,521.7156 Q490.3096,520.7153 489.3633,520.7153 Z M485.0137,524.9487 Q485.0137,521.7695 486.1135,520.1426 Q487.2134,518.5156 489.3633,518.5156 Q491.5215,518.5156 492.6213,520.1426 Q493.7212,521.7695 493.7212,524.9487 Q493.7212,528.1196 492.6213,529.7466 Q491.5215,531.3735 489.3633,531.3735 Q487.2134,531.3735 486.1135,529.7466 Q485.0137,528.1196 485.0137,524.9487 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="50" x="539.25" y="522.1016">«Object»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="108" x="510.25" y="536.2344">BigDataBenchmark</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="262" x2="834" y1="543.7656" y2="543.7656"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="262" x2="834" y1="551.7656" y2="551.7656"/><ellipse cx="272" cy="563.7432" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="543" x="281" y="566.4004">rankings(spark: SparkSession, securityLevel: SecurityLevel, size: String, numPartitions: Int): DataFrame</text><ellipse cx="272" cy="576.6982" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="548" x="281" y="579.3555">uservisits(spark: SparkSession, securityLevel: SecurityLevel, size: String, numPartitions: Int): DataFrame</text><ellipse cx="272" cy="589.6533" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="510" x="281" y="592.3105">q1(spark: SparkSession, securityLevel: SecurityLevel, size: String, numPartitions: Int): DataFrame</text><ellipse cx="272" cy="602.6084" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="510" x="281" y="605.2656">q2(spark: SparkSession, securityLevel: SecurityLevel, size: String, numPartitions: Int): DataFrame</text><ellipse cx="272" cy="615.5635" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="510" x="281" y="618.2207">q3(spark: SparkSession, securityLevel: SecurityLevel, size: String, numPartitions: Int): DataFrame</text><!--class edu.berkeley.cs.rise.opaque.benchmark.KMeans--><rect fill="#FEFECE" filter="url(#f1g588abaf7fi)" height="80.1758" id="edu.berkeley.cs.rise.opaque.benchmark.KMeans" style="stroke: #A80036; stroke-width: 1.5;" width="761" x="167.5" y="660"/><ellipse cx="520.75" cy="679.1328" fill="#DA70D6" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M520.3633,675.2153 Q519.4253,675.2153 518.9937,676.2156 Q518.562,677.2158 518.562,679.4487 Q518.562,681.6733 518.9937,682.6736 Q519.4253,683.6738 520.3633,683.6738 Q521.3096,683.6738 521.7412,682.6736 Q522.1729,681.6733 522.1729,679.4487 Q522.1729,677.2158 521.7412,676.2156 Q521.3096,675.2153 520.3633,675.2153 Z M516.0137,679.4487 Q516.0137,676.2695 517.1135,674.6426 Q518.2134,673.0156 520.3633,673.0156 Q522.5215,673.0156 523.6213,674.6426 Q524.7212,676.2695 524.7212,679.4487 Q524.7212,682.6196 523.6213,684.2466 Q522.5215,685.8735 520.3633,685.8735 Q518.2134,685.8735 517.1135,684.2466 Q516.0137,682.6196 516.0137,679.4487 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="50" x="539.25" y="676.6016">«Object»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="45" x="541.75" y="690.7344">KMeans</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="168.5" x2="927.5" y1="698.2656" y2="698.2656"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="168.5" x2="927.5" y1="706.2656" y2="706.2656"/><ellipse cx="178.5" cy="718.2432" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="603" x="187.5" y="720.9004">data(spark: SparkSession, securityLevel: SecurityLevel, numPartitions: Int, rand: Random, N: Int, D: Int): DataFrame</text><ellipse cx="178.5" cy="731.1982" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="735" x="187.5" y="733.8555">train(spark: SparkSession, securityLevel: SecurityLevel, numPartitions: Int, N: Int, D: Int, K: Int, convergeDist: Double): Array[Array[Double]]</text><!--class edu.berkeley.cs.rise.opaque.benchmark.LeastSquares--><rect fill="#FEFECE" filter="url(#f1g588abaf7fi)" height="80.1758" id="edu.berkeley.cs.rise.opaque.benchmark.LeastSquares" style="stroke: #A80036; stroke-width: 1.5;" width="553" x="1094" y="890"/><ellipse cx="1328.25" cy="909.1328" fill="#DA70D6" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1327.8633,905.2153 Q1326.9253,905.2153 1326.4937,906.2156 Q1326.062,907.2158 1326.062,909.4487 Q1326.062,911.6733 1326.4937,912.6736 Q1326.9253,913.6738 1327.8633,913.6738 Q1328.8096,913.6738 1329.2412,912.6736 Q1329.6729,911.6733 1329.6729,909.4487 Q1329.6729,907.2158 1329.2412,906.2156 Q1328.8096,905.2153 1327.8633,905.2153 Z M1323.5137,909.4487 Q1323.5137,906.2695 1324.6135,904.6426 Q1325.7134,903.0156 1327.8633,903.0156 Q1330.0215,903.0156 1331.1213,904.6426 Q1332.2212,906.2695 1332.2212,909.4487 Q1332.2212,912.6196 1331.1213,914.2466 Q1330.0215,915.8735 1327.8633,915.8735 Q1325.7134,915.8735 1324.6135,914.2466 Q1323.5137,912.6196 1323.5137,909.4487 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="50" x="1361.75" y="906.6016">«Object»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="76" x="1348.75" y="920.7344">LeastSquares</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1095" x2="1646" y1="928.2656" y2="928.2656"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1095" x2="1646" y1="936.2656" y2="936.2656"/><ellipse cx="1105" cy="948.2432" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="454" x="1114" y="950.9004">data(spark: SparkSession, securityLevel: SecurityLevel, numPartitions: Int): DataFrame</text><ellipse cx="1105" cy="961.1982" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="527" x="1114" y="963.8555">query(spark: SparkSession, securityLevel: SecurityLevel, size: String, numPartitions: Int): DataFrame</text><!--class edu.berkeley.cs.rise.opaque.benchmark.LogisticRegression--><rect fill="#FEFECE" filter="url(#f1g588abaf7fi)" height="80.1758" id="edu.berkeley.cs.rise.opaque.benchmark.LogisticRegression" style="stroke: #A80036; stroke-width: 1.5;" width="686" x="205" y="775"/><ellipse cx="491.25" cy="794.1328" fill="#DA70D6" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M490.8633,790.2153 Q489.9253,790.2153 489.4937,791.2156 Q489.062,792.2158 489.062,794.4487 Q489.062,796.6733 489.4937,797.6736 Q489.9253,798.6738 490.8633,798.6738 Q491.8096,798.6738 492.2412,797.6736 Q492.6729,796.6733 492.6729,794.4487 Q492.6729,792.2158 492.2412,791.2156 Q491.8096,790.2153 490.8633,790.2153 Z M486.5137,794.4487 Q486.5137,791.2695 487.6135,789.6426 Q488.7134,788.0156 490.8633,788.0156 Q493.0215,788.0156 494.1213,789.6426 Q495.2212,791.2695 495.2212,794.4487 Q495.2212,797.6196 494.1213,799.2466 Q493.0215,800.8735 490.8633,800.8735 Q488.7134,800.8735 487.6135,799.2466 Q486.5137,797.6196 486.5137,794.4487 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="50" x="539.25" y="791.6016">«Object»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="105" x="511.75" y="805.7344">LogisticRegression</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="206" x2="890" y1="813.2656" y2="813.2656"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="206" x2="890" y1="821.2656" y2="821.2656"/><ellipse cx="216" cy="833.2432" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="660" x="225" y="835.9004">data(spark: SparkSession, securityLevel: SecurityLevel, numPartitions: Int, rand: Random, N: Int, D: Int, R: Double): DataFrame</text><ellipse cx="216" cy="846.1982" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="509" x="225" y="848.8555">train(spark: SparkSession, securityLevel: SecurityLevel, N: Int, numPartitions: Int): Array[Double]</text><!--class edu.berkeley.cs.rise.opaque.benchmark.PageRank--><rect fill="#FEFECE" filter="url(#f1g588abaf7fi)" height="67.2207" id="edu.berkeley.cs.rise.opaque.benchmark.PageRank" style="stroke: #A80036; stroke-width: 1.5;" width="541" x="277.5" y="890.5"/><ellipse cx="515.25" cy="909.6328" fill="#DA70D6" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M514.8633,905.7153 Q513.9253,905.7153 513.4937,906.7156 Q513.062,907.7158 513.062,909.9487 Q513.062,912.1733 513.4937,913.1736 Q513.9253,914.1738 514.8633,914.1738 Q515.8096,914.1738 516.2412,913.1736 Q516.6729,912.1733 516.6729,909.9487 Q516.6729,907.7158 516.2412,906.7156 Q515.8096,905.7153 514.8633,905.7153 Z M510.5137,909.9487 Q510.5137,906.7695 511.6135,905.1426 Q512.7134,903.5156 514.8633,903.5156 Q517.0215,903.5156 518.1213,905.1426 Q519.2212,906.7695 519.2212,909.9487 Q519.2212,913.1196 518.1213,914.7466 Q517.0215,916.3735 514.8633,916.3735 Q512.7134,916.3735 511.6135,914.7466 Q510.5137,913.1196 510.5137,909.9487 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="50" x="539.25" y="907.1016">«Object»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="57" x="535.75" y="921.2344">PageRank</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="278.5" x2="817.5" y1="928.7656" y2="928.7656"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="278.5" x2="817.5" y1="936.7656" y2="936.7656"/><ellipse cx="288.5" cy="948.7432" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="515" x="297.5" y="951.4004">run(spark: SparkSession, securityLevel: SecurityLevel, size: String, numPartitions: Int): DataFrame</text><!--class edu.berkeley.cs.rise.opaque.benchmark.TPCH--><rect fill="#FEFECE" filter="url(#f1g588abaf7fi)" height="157.9063" id="edu.berkeley.cs.rise.opaque.benchmark.TPCH" style="stroke: #A80036; stroke-width: 1.5;" width="972" x="62" y="993"/><ellipse cx="520.75" cy="1012.1328" fill="#DA70D6" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M520.3633,1008.2153 Q519.4253,1008.2153 518.9937,1009.2156 Q518.562,1010.2158 518.562,1012.4487 Q518.562,1014.6733 518.9937,1015.6736 Q519.4253,1016.6738 520.3633,1016.6738 Q521.3096,1016.6738 521.7412,1015.6736 Q522.1729,1014.6733 522.1729,1012.4487 Q522.1729,1010.2158 521.7412,1009.2156 Q521.3096,1008.2153 520.3633,1008.2153 Z M516.0137,1012.4487 Q516.0137,1009.2695 517.1135,1007.6426 Q518.2134,1006.0156 520.3633,1006.0156 Q522.5215,1006.0156 523.6213,1007.6426 Q524.7212,1009.2695 524.7212,1012.4487 Q524.7212,1015.6196 523.6213,1017.2466 Q522.5215,1018.8735 520.3633,1018.8735 Q518.2134,1018.8735 517.1135,1017.2466 Q516.0137,1015.6196 516.0137,1012.4487 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="50" x="539.25" y="1009.6016">«Object»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="32" x="548.25" y="1023.7344">TPCH</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="63" x2="1033" y1="1031.2656" y2="1031.2656"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="63" x2="1033" y1="1039.2656" y2="1039.2656"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="70" y="1048.2432"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="946" x="82" y="1053.9004">tpch9EncryptedDFs(sqlContext: SQLContext, securityLevel: SecurityLevel, size: String, numPartitions: Int): (DataFrame, DataFrame, DataFrame, DataFrame, DataFrame, DataFrame)</text><ellipse cx="73" cy="1064.1982" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="540" x="82" y="1066.8555">part(sqlContext: SQLContext, securityLevel: SecurityLevel, size: String, numPartitions: Int): DataFrame</text><ellipse cx="73" cy="1077.1533" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="562" x="82" y="1079.8105">supplier(sqlContext: SQLContext, securityLevel: SecurityLevel, size: String, numPartitions: Int): DataFrame</text><ellipse cx="73" cy="1090.1084" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="560" x="82" y="1092.7656">lineitem(sqlContext: SQLContext, securityLevel: SecurityLevel, size: String, numPartitions: Int): DataFrame</text><ellipse cx="73" cy="1103.0635" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="567" x="82" y="1105.7207">partsupp(sqlContext: SQLContext, securityLevel: SecurityLevel, size: String, numPartitions: Int): DataFrame</text><ellipse cx="73" cy="1116.0186" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="554" x="82" y="1118.6758">orders(sqlContext: SQLContext, securityLevel: SecurityLevel, size: String, numPartitions: Int): DataFrame</text><ellipse cx="73" cy="1128.9736" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="552" x="82" y="1131.6309">nation(sqlContext: SQLContext, securityLevel: SecurityLevel, size: String, numPartitions: Int): DataFrame</text><ellipse cx="73" cy="1141.9287" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="762" x="82" y="1144.5859">tpch9(sqlContext: SQLContext, securityLevel: SecurityLevel, size: String, numPartitions: Int, quantityThreshold: Option[Int] = None): DataFrame</text><!--class edu.berkeley.cs.rise.opaque.benchmark.SecurityLevel--><rect fill="#FEFECE" filter="url(#f1g588abaf7fi)" height="80.1758" id="edu.berkeley.cs.rise.opaque.benchmark.SecurityLevel" style="stroke: #A80036; stroke-width: 1.5;" width="229" x="1256" y="775"/><ellipse cx="1329.75" cy="794.1328" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1326.1777,790.3979 L1326.1777,788.2397 L1333.5571,788.2397 L1333.5571,790.3979 L1331.0918,790.3979 L1331.0918,798.4746 L1333.5571,798.4746 L1333.5571,800.6328 L1326.1777,800.6328 L1326.1777,798.4746 L1328.6431,798.4746 L1328.6431,790.3979 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="77" x="1348.25" y="791.6016">«sealed trait»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="73" x="1350.25" y="805.7344">SecurityLevel</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1257" x2="1484" y1="813.2656" y2="813.2656"/><ellipse cx="1267" cy="825.2432" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="67" x="1276" y="827.9004">name: String</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1257" x2="1484" y1="834.2207" y2="834.2207"/><ellipse cx="1267" cy="846.1982" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="203" x="1276" y="848.8555">applyTo[T](df: DataFrame): DataFrame</text><!--class edu.berkeley.cs.rise.opaque.benchmark.Encrypted--><rect fill="#FEFECE" filter="url(#f1g588abaf7fi)" height="80.1758" id="edu.berkeley.cs.rise.opaque.benchmark.Encrypted" style="stroke: #A80036; stroke-width: 1.5;" width="229" x="1768" y="823"/><ellipse cx="1849.25" cy="842.1328" fill="#DA70D6" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1848.8633,838.2153 Q1847.9253,838.2153 1847.4937,839.2156 Q1847.062,840.2158 1847.062,842.4487 Q1847.062,844.6733 1847.4937,845.6736 Q1847.9253,846.6738 1848.8633,846.6738 Q1849.8096,846.6738 1850.2412,845.6736 Q1850.6729,844.6733 1850.6729,842.4487 Q1850.6729,840.2158 1850.2412,839.2156 Q1849.8096,838.2153 1848.8633,838.2153 Z M1844.5137,842.4487 Q1844.5137,839.2695 1845.6135,837.6426 Q1846.7134,836.0156 1848.8633,836.0156 Q1851.0215,836.0156 1852.1213,837.6426 Q1853.2212,839.2695 1853.2212,842.4487 Q1853.2212,845.6196 1852.1213,847.2466 Q1851.0215,848.8735 1848.8633,848.8735 Q1846.7134,848.8735 1845.6135,847.2466 Q1844.5137,845.6196 1844.5137,842.4487 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="50" x="1873.75" y="839.6016">«Object»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="58" x="1869.75" y="853.7344">Encrypted</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1769" x2="1996" y1="861.2656" y2="861.2656"/><ellipse cx="1779" cy="873.2432" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="67" x="1788" y="875.9004">name: String</text><text fill="#808080" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="108" x="1858" y="875.9004">default="encrypted"</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1769" x2="1996" y1="882.2207" y2="882.2207"/><ellipse cx="1779" cy="894.1982" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="203" x="1788" y="896.8555">applyTo[T](df: DataFrame): DataFrame</text><!--class edu.berkeley.cs.rise.opaque.benchmark.Insecure--><rect fill="#FEFECE" filter="url(#f1g588abaf7fi)" height="80.1758" id="edu.berkeley.cs.rise.opaque.benchmark.Insecure" style="stroke: #A80036; stroke-width: 1.5;" width="229" x="1768" y="708"/><ellipse cx="1854.25" cy="727.1328" fill="#DA70D6" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1853.8633,723.2153 Q1852.9253,723.2153 1852.4937,724.2156 Q1852.062,725.2158 1852.062,727.4487 Q1852.062,729.6733 1852.4937,730.6736 Q1852.9253,731.6738 1853.8633,731.6738 Q1854.8096,731.6738 1855.2412,730.6736 Q1855.6729,729.6733 1855.6729,727.4487 Q1855.6729,725.2158 1855.2412,724.2156 Q1854.8096,723.2153 1853.8633,723.2153 Z M1849.5137,727.4487 Q1849.5137,724.2695 1850.6135,722.6426 Q1851.7134,721.0156 1853.8633,721.0156 Q1856.0215,721.0156 1857.1213,722.6426 Q1858.2212,724.2695 1858.2212,727.4487 Q1858.2212,730.6196 1857.1213,732.2466 Q1856.0215,733.8735 1853.8633,733.8735 Q1851.7134,733.8735 1850.6135,732.2466 Q1849.5137,730.6196 1849.5137,727.4487 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="50" x="1873.75" y="724.6016">«Object»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="48" x="1874.75" y="738.7344">Insecure</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1769" x2="1996" y1="746.2656" y2="746.2656"/><ellipse cx="1779" cy="758.2432" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="67" x="1788" y="760.9004">name: String</text><text fill="#808080" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="103" x="1858" y="760.9004">default="spark sql"</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1769" x2="1996" y1="767.2207" y2="767.2207"/><ellipse cx="1779" cy="779.1982" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="203" x="1788" y="781.8555">applyTo[T](df: DataFrame): DataFrame</text><!--class edu.xjtu.cs.cyx.qshield.benchmark.QBigDataBenchmark--><rect fill="#FEFECE" filter="url(#f1g588abaf7fi)" height="131.9961" id="edu.xjtu.cs.cyx.qshield.benchmark.QBigDataBenchmark" style="stroke: #A80036; stroke-width: 1.5;" width="590" x="253" y="102"/><ellipse cx="485.25" cy="121.1328" fill="#DA70D6" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M484.8633,117.2153 Q483.9253,117.2153 483.4937,118.2156 Q483.062,119.2158 483.062,121.4487 Q483.062,123.6733 483.4937,124.6736 Q483.9253,125.6738 484.8633,125.6738 Q485.8096,125.6738 486.2412,124.6736 Q486.6729,123.6733 486.6729,121.4487 Q486.6729,119.2158 486.2412,118.2156 Q485.8096,117.2153 484.8633,117.2153 Z M480.5137,121.4487 Q480.5137,118.2695 481.6135,116.6426 Q482.7134,115.0156 484.8633,115.0156 Q487.0215,115.0156 488.1213,116.6426 Q489.2212,118.2695 489.2212,121.4487 Q489.2212,124.6196 488.1213,126.2466 Q487.0215,127.8735 484.8633,127.8735 Q482.7134,127.8735 481.6135,126.2466 Q480.5137,124.6196 480.5137,121.4487 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="50" x="539.25" y="118.6016">«Object»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="117" x="505.75" y="132.7344">QBigDataBenchmark</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="254" x2="842" y1="140.2656" y2="140.2656"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="254" x2="842" y1="148.2656" y2="148.2656"/><ellipse cx="264" cy="160.2432" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="559" x="273" y="162.9004">rankings(spark: SparkSession, qsecurityLevel: QSecurityLevel, size: String, numPartitions: Int): DataFrame</text><ellipse cx="264" cy="173.1982" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="564" x="273" y="175.8555">uservisits(spark: SparkSession, qsecurityLevel: QSecurityLevel, size: String, numPartitions: Int): DataFrame</text><ellipse cx="264" cy="186.1533" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="526" x="273" y="188.8105">q1(spark: SparkSession, qsecurityLevel: QSecurityLevel, size: String, numPartitions: Int): DataFrame</text><ellipse cx="264" cy="199.1084" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="526" x="273" y="201.7656">q2(spark: SparkSession, qsecurityLevel: QSecurityLevel, size: String, numPartitions: Int): DataFrame</text><ellipse cx="264" cy="212.0635" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="526" x="273" y="214.7207">q3(spark: SparkSession, qsecurityLevel: QSecurityLevel, size: String, numPartitions: Int): DataFrame</text><ellipse cx="264" cy="225.0186" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="522" x="273" y="227.6758">q(spark: SparkSession, qsecurityLevel: QSecurityLevel, size: String, numPartitions: Int) : DataFrame</text><!--class edu.xjtu.cs.cyx.qshield.benchmark.QSecurityLevel--><rect fill="#FEFECE" filter="url(#f1g588abaf7fi)" height="80.1758" id="edu.xjtu.cs.cyx.qshield.benchmark.QSecurityLevel" style="stroke: #A80036; stroke-width: 1.5;" width="229" x="1256" y="102"/><ellipse cx="1325.25" cy="121.1328" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1321.6777,117.3979 L1321.6777,115.2397 L1329.0571,115.2397 L1329.0571,117.3979 L1326.5918,117.3979 L1326.5918,125.4746 L1329.0571,125.4746 L1329.0571,127.6328 L1321.6777,127.6328 L1321.6777,125.4746 L1324.1431,125.4746 L1324.1431,117.3979 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="35" x="1369.25" y="118.6016">«trait»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="82" x="1345.75" y="132.7344">QSecurityLevel</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1257" x2="1484" y1="140.2656" y2="140.2656"/><ellipse cx="1267" cy="152.2432" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="67" x="1276" y="154.9004">name: String</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1257" x2="1484" y1="161.2207" y2="161.2207"/><ellipse cx="1267" cy="173.1982" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="203" x="1276" y="175.8555">applyTo[T](df: DataFrame): DataFrame</text><!--class edu.xjtu.cs.cyx.qshield.benchmark.QEncrypted--><rect fill="#FEFECE" filter="url(#f1g588abaf7fi)" height="144.9512" id="edu.xjtu.cs.cyx.qshield.benchmark.QEncrypted" style="stroke: #A80036; stroke-width: 1.5;" width="340" x="1200.5" y="217.5"/><ellipse cx="1332.75" cy="236.6328" fill="#DA70D6" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1332.3633,232.7153 Q1331.4253,232.7153 1330.9937,233.7156 Q1330.562,234.7158 1330.562,236.9487 Q1330.562,239.1733 1330.9937,240.1736 Q1331.4253,241.1738 1332.3633,241.1738 Q1333.3096,241.1738 1333.7412,240.1736 Q1334.1729,239.1733 1334.1729,236.9487 Q1334.1729,234.7158 1333.7412,233.7156 Q1333.3096,232.7153 1332.3633,232.7153 Z M1328.0137,236.9487 Q1328.0137,233.7695 1329.1135,232.1426 Q1330.2134,230.5156 1332.3633,230.5156 Q1334.5215,230.5156 1335.6213,232.1426 Q1336.7212,233.7695 1336.7212,236.9487 Q1336.7212,240.1196 1335.6213,241.7466 Q1334.5215,243.3735 1332.3633,243.3735 Q1330.2134,243.3735 1329.1135,241.7466 Q1328.0137,240.1196 1328.0137,236.9487 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="50" x="1361.75" y="234.1016">«Object»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="67" x="1353.25" y="248.2344">QEncrypted</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1201.5" x2="1539.5" y1="255.7656" y2="255.7656"/><ellipse cx="1211.5" cy="267.7432" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="67" x="1220.5" y="270.4004">name: String</text><text fill="#808080" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="108" x="1290.5" y="270.4004">default="encrypted"</text><ellipse cx="1211.5" cy="280.6982" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="110" x="1220.5" y="283.3555">GCM_IV_LENGTH: Int</text><text fill="#808080" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="60" x="1333.5" y="283.3555">default=12</text><ellipse cx="1211.5" cy="293.6533" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="120" x="1220.5" y="296.3105">GCM_KEY_LENGTH: Int</text><text fill="#808080" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="60" x="1343.5" y="296.3105">default=16</text><ellipse cx="1211.5" cy="306.6084" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="123" x="1220.5" y="309.2656">GCM_TAG_LENGTH: Int</text><text fill="#808080" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="60" x="1346.5" y="309.2656">default=16</text><ellipse cx="1211.5" cy="319.5635" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="115" x="1220.5" y="322.2207">tokenKey: Array[Byte]</text><text fill="#808080" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="196" x="1338.5" y="322.2207">default="Opaque devel key".getBytes</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1201.5" x2="1539.5" y1="328.541" y2="328.541"/><ellipse cx="1211.5" cy="340.5186" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="204" x="1220.5" y="343.1758">encrypt(data: Array[Byte]): Array[Byte]</text><ellipse cx="1211.5" cy="353.4736" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="203" x="1220.5" y="356.1309">applyTo[T](df: DataFrame): DataFrame</text><!--link edu.berkeley.cs.rise.opaque.benchmark.SecurityLevel to edu.berkeley.cs.rise.opaque.benchmark.Benchmark--><path d="M1370.5,769.47 C1370.5,759.71 1370.5,749.95 1370.5,740.2 " fill="none" id="edu.berkeley.cs.rise.opaque.benchmark.SecurityLevel-edu.berkeley.cs.rise.opaque.benchmark.Benchmark" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="1370.5,774.57,1374.5,765.57,1370.5,769.57,1366.5,765.57,1370.5,774.57" style="stroke: #A80036; stroke-width: 1.0;"/><!--link edu.berkeley.cs.rise.opaque.benchmark.BigDataBenchmark to edu.berkeley.cs.rise.opaque.benchmark.SecurityLevel--><path d="M835.1,566.29 C905.17,577.98 976.47,600.61 1034,642 C1080.8,675.67 1048.06,722.17 1094,757 C1138.52,790.76 1198.22,805.93 1250.66,812.39 " fill="none" id="edu.berkeley.cs.rise.opaque.benchmark.BigDataBenchmark-edu.berkeley.cs.rise.opaque.benchmark.SecurityLevel" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="1255.71,812.99,1247.2398,807.9644,1250.7443,812.405,1246.3038,815.9095,1255.71,812.99" style="stroke: #A80036; stroke-width: 1.0;"/><!--link edu.berkeley.cs.rise.opaque.benchmark.KMeans to edu.berkeley.cs.rise.opaque.benchmark.SecurityLevel--><path d="M908.17,740 C950.63,745.38 993.31,751.1 1034,757 C1106.26,767.48 1186.91,781.36 1251.02,792.9 " fill="none" id="edu.berkeley.cs.rise.opaque.benchmark.KMeans-edu.berkeley.cs.rise.opaque.benchmark.SecurityLevel" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="1255.99,793.8,1247.8394,788.2712,1251.0688,792.9156,1246.4244,796.145,1255.99,793.8" style="stroke: #A80036; stroke-width: 1.0;"/><!--link edu.berkeley.cs.rise.opaque.benchmark.LeastSquares to edu.berkeley.cs.rise.opaque.benchmark.SecurityLevel--><path d="M1370.5,889.57 C1370.5,879.81 1370.5,870.06 1370.5,860.3 " fill="none" id="edu.berkeley.cs.rise.opaque.benchmark.LeastSquares-edu.berkeley.cs.rise.opaque.benchmark.SecurityLevel" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="1370.5,855.2,1366.5,864.2,1370.5,860.2,1374.5,864.2,1370.5,855.2" style="stroke: #A80036; stroke-width: 1.0;"/><!--link edu.berkeley.cs.rise.opaque.benchmark.LogisticRegression to edu.berkeley.cs.rise.opaque.benchmark.SecurityLevel--><path d="M891.02,815 C1019.11,815 1156.32,815 1250.82,815 " fill="none" id="edu.berkeley.cs.rise.opaque.benchmark.LogisticRegression-edu.berkeley.cs.rise.opaque.benchmark.SecurityLevel" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="1255.85,815,1246.85,811,1250.85,815,1246.85,819,1255.85,815" style="stroke: #A80036; stroke-width: 1.0;"/><!--link edu.berkeley.cs.rise.opaque.benchmark.PageRank to edu.berkeley.cs.rise.opaque.benchmark.SecurityLevel--><path d="M818.72,898.06 C888.92,890.49 964.38,881.64 1034,872 C1106.15,862.01 1186.62,848.42 1250.66,837.02 " fill="none" id="edu.berkeley.cs.rise.opaque.benchmark.PageRank-edu.berkeley.cs.rise.opaque.benchmark.SecurityLevel" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="1255.63,836.13,1246.0632,833.7898,1250.7093,837.0169,1247.4822,841.6629,1255.63,836.13" style="stroke: #A80036; stroke-width: 1.0;"/><!--link edu.berkeley.cs.rise.opaque.benchmark.TPCH to edu.berkeley.cs.rise.opaque.benchmark.SecurityLevel--><path d="M1006.38,992.94 C1015.87,987.34 1025.09,981.36 1034,975 C1077.11,944.2 1051,902.94 1094,872 C1139.13,839.53 1198.59,824.67 1250.72,818.17 " fill="none" id="edu.berkeley.cs.rise.opaque.benchmark.TPCH-edu.berkeley.cs.rise.opaque.benchmark.SecurityLevel" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="1255.75,817.57,1246.3346,814.6804,1250.7862,818.1708,1247.2959,822.6225,1255.75,817.57" style="stroke: #A80036; stroke-width: 1.0;"/><!--link edu.berkeley.cs.rise.opaque.benchmark.SecurityLevel to edu.berkeley.cs.rise.opaque.benchmark.Encrypted--><path d="M1505.01,827.57 C1586.71,835.26 1690.13,844.99 1767.89,852.31 " fill="none" id="edu.berkeley.cs.rise.opaque.benchmark.SecurityLevel-edu.berkeley.cs.rise.opaque.benchmark.Encrypted" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1504.26,834.53,1485,825.68,1505.57,820.59,1504.26,834.53" style="stroke: #A80036; stroke-width: 1.0;"/><!--link edu.berkeley.cs.rise.opaque.benchmark.SecurityLevel to edu.berkeley.cs.rise.opaque.benchmark.Insecure--><path d="M1505.01,797.46 C1586.71,786.73 1690.13,773.14 1767.89,762.93 " fill="none" id="edu.berkeley.cs.rise.opaque.benchmark.SecurityLevel-edu.berkeley.cs.rise.opaque.benchmark.Insecure" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1505.74,804.42,1485,800.09,1503.92,790.54,1505.74,804.42" style="stroke: #A80036; stroke-width: 1.0;"/><!--link edu.xjtu.cs.cyx.qshield.benchmark.QEncrypted to edu.xjtu.cs.cyx.qshield.benchmark.QSecurityLevel--><path d="M1370.5,217.45 C1370.5,212.38 1370.5,207.31 1370.5,202.25 " fill="none" id="edu.xjtu.cs.cyx.qshield.benchmark.QEncrypted-edu.xjtu.cs.cyx.qshield.benchmark.QSecurityLevel" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1363.5,202.08,1370.5,182.08,1377.5,202.08,1363.5,202.08" style="stroke: #A80036; stroke-width: 1.0;"/><!--link edu.xjtu.cs.cyx.qshield.benchmark.QBigDataBenchmark to edu.xjtu.cs.cyx.qshield.benchmark.QSecurityLevel--><path d="M843.19,158.68 C983.93,154.22 1144.53,149.13 1250.93,145.76 " fill="none" id="edu.xjtu.cs.cyx.qshield.benchmark.QBigDataBenchmark-edu.xjtu.cs.cyx.qshield.benchmark.QSecurityLevel" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="1255.95,145.6,1246.8288,141.8847,1250.9525,145.7571,1247.0801,149.8807,1255.95,145.6" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml
left to right direction
namespace edu.berkeley.cs.rise.opaque{
  namespace benchmark{
    class Benchmark << (O,orchid) Object >> {
      + dataDir : String
      + main(args : Array[String]) : Unit
    }
    class BigDataBenchmark << (O,orchid) Object >> {
      +rankings(spark: SparkSession, securityLevel: SecurityLevel, size: String, numPartitions: Int): DataFrame
      +uservisits(spark: SparkSession, securityLevel: SecurityLevel, size: String, numPartitions: Int): DataFrame
      +q1(spark: SparkSession, securityLevel: SecurityLevel, size: String, numPartitions: Int): DataFrame
      +q2(spark: SparkSession, securityLevel: SecurityLevel, size: String, numPartitions: Int): DataFrame
      +q3(spark: SparkSession, securityLevel: SecurityLevel, size: String, numPartitions: Int): DataFrame
    }
    class KMeans << (O,orchid) Object >> {
      +data(spark: SparkSession, securityLevel: SecurityLevel, numPartitions: Int, rand: Random, N: Int, D: Int): DataFrame
      +train(spark: SparkSession, securityLevel: SecurityLevel, numPartitions: Int, N: Int, D: Int, K: Int, convergeDist: Double): Array[Array[Double]]
    }
    class LeastSquares << (O,orchid) Object >> {
      +data(spark: SparkSession, securityLevel: SecurityLevel, numPartitions: Int): DataFrame
      +query(spark: SparkSession, securityLevel: SecurityLevel, size: String, numPartitions: Int): DataFrame
    }
    class LogisticRegression << (O,orchid) Object >> {
      +data(spark: SparkSession, securityLevel: SecurityLevel, numPartitions: Int, rand: Random, N: Int, D: Int, R: Double): DataFrame
      +train(spark: SparkSession, securityLevel: SecurityLevel, N: Int, numPartitions: Int): Array[Double]
    }
    class PageRank << (O,orchid) Object >> {
      +run(spark: SparkSession, securityLevel: SecurityLevel, size: String, numPartitions: Int): DataFrame
    }
    class TPCH << (O,orchid) Object >> {
      -tpch9EncryptedDFs(sqlContext: SQLContext, securityLevel: SecurityLevel, size: String, numPartitions: Int): (DataFrame, DataFrame, DataFrame, DataFrame, DataFrame, DataFrame)
      +part(sqlContext: SQLContext, securityLevel: SecurityLevel, size: String, numPartitions: Int): DataFrame
      +supplier(sqlContext: SQLContext, securityLevel: SecurityLevel, size: String, numPartitions: Int): DataFrame
      +lineitem(sqlContext: SQLContext, securityLevel: SecurityLevel, size: String, numPartitions: Int): DataFrame
      +partsupp(sqlContext: SQLContext, securityLevel: SecurityLevel, size: String, numPartitions: Int): DataFrame
      +orders(sqlContext: SQLContext, securityLevel: SecurityLevel, size: String, numPartitions: Int): DataFrame
      +nation(sqlContext: SQLContext, securityLevel: SecurityLevel, size: String, numPartitions: Int): DataFrame
      +tpch9(sqlContext: SQLContext, securityLevel: SecurityLevel, size: String, numPartitions: Int, quantityThreshold: Option[Int] = None): DataFrame
    }
    interface SecurityLevel <<sealed trait>> {
      +name: String
      +applyTo[T](df: DataFrame): DataFrame
    }
    class Encrypted << (O,orchid) Object >> {
      +name: String <i><color:grey>default="encrypted"</color></i>
      +applyTo[T](df: DataFrame): DataFrame
    }
    class Insecure << (O,orchid) Object >> {
      +name: String <i><color:grey>default="spark sql"</color></i>
      +applyTo[T](df: DataFrame): DataFrame
    }
  }
}

namespace edu.xjtu.cs.cyx.qshield{
  namespace benchmark{
    class QBigDataBenchmark << (O,orchid) Object >> {
      +rankings(spark: SparkSession, qsecurityLevel: QSecurityLevel, size: String, numPartitions: Int): DataFrame
      +uservisits(spark: SparkSession, qsecurityLevel: QSecurityLevel, size: String, numPartitions: Int): DataFrame
      +q1(spark: SparkSession, qsecurityLevel: QSecurityLevel, size: String, numPartitions: Int): DataFrame
      +q2(spark: SparkSession, qsecurityLevel: QSecurityLevel, size: String, numPartitions: Int): DataFrame
      +q3(spark: SparkSession, qsecurityLevel: QSecurityLevel, size: String, numPartitions: Int): DataFrame
      +q(spark: SparkSession, qsecurityLevel: QSecurityLevel, size: String, numPartitions: Int) : DataFrame
    }
    interface QSecurityLevel <<trait>> {
      +name: String
      +applyTo[T](df: DataFrame): DataFrame
    }
    class QEncrypted << (O,orchid) Object >> {
      +name: String <i><color:grey>default="encrypted"</color></i>
      +GCM_IV_LENGTH: Int <i><color:grey>default=12</color></i>
      +GCM_KEY_LENGTH: Int <i><color:grey>default=16</color></i>
      +GCM_TAG_LENGTH: Int <i><color:grey>default=16</color></i>
      +tokenKey: Array[Byte] <i><color:grey>default="Opaque devel key".getBytes</color></i>
      +encrypt(data: Array[Byte]): Array[Byte]
      +applyTo[T](df: DataFrame): DataFrame
    }
  }
}

edu.berkeley.cs.rise.opaque.benchmark.Benchmark .left.> edu.berkeley.cs.rise.opaque.benchmark.SecurityLevel
edu.berkeley.cs.rise.opaque.benchmark.BigDataBenchmark ..> edu.berkeley.cs.rise.opaque.benchmark.SecurityLevel
edu.berkeley.cs.rise.opaque.benchmark.KMeans ..> edu.berkeley.cs.rise.opaque.benchmark.SecurityLevel
edu.berkeley.cs.rise.opaque.benchmark.LeastSquares .right.> edu.berkeley.cs.rise.opaque.benchmark.SecurityLevel
edu.berkeley.cs.rise.opaque.benchmark.LogisticRegression ..> edu.berkeley.cs.rise.opaque.benchmark.SecurityLevel
edu.berkeley.cs.rise.opaque.benchmark.PageRank ..> edu.berkeley.cs.rise.opaque.benchmark.SecurityLevel
edu.berkeley.cs.rise.opaque.benchmark.TPCH ..> edu.berkeley.cs.rise.opaque.benchmark.SecurityLevel
edu.berkeley.cs.rise.opaque.benchmark.Encrypted - -up-|> edu.berkeley.cs.rise.opaque.benchmark.SecurityLevel
edu.berkeley.cs.rise.opaque.benchmark.Insecure - -up-|> edu.berkeley.cs.rise.opaque.benchmark.SecurityLevel

edu.xjtu.cs.cyx.qshield.benchmark.QEncrypted -right-|> edu.xjtu.cs.cyx.qshield.benchmark.QSecurityLevel
edu.xjtu.cs.cyx.qshield.benchmark.QBigDataBenchmark .down.> edu.xjtu.cs.cyx.qshield.benchmark.QSecurityLevel
@enduml

PlantUML version 1.2018.14(Sat Dec 22 00:33:16 CST 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 17.0.5+9-LTS-191
Operating System: Mac OS X
OS Version: 12.6
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>