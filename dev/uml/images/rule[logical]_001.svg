<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1215px" preserveAspectRatio="none" style="width:1647px;height:1215px;" version="1.1" viewBox="0 0 1647 1215" width="1647px" zoomAndPan="magnify"><defs><filter height="300%" id="fahjve0uib496" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--cluster edu.berkeley.cs.rise.opaque--><polygon fill="#FFFFFF" filter="url(#fahjve0uib496)" points="22,24,221,24,228,46.4883,1005,46.4883,1005,1203,22,1203,22,24" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="228" y1="46.4883" y2="46.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="193" x="26" y="39.5352">edu.berkeley.cs.rise.opaque</text><!--cluster edu.berkeley.cs.rise.opaque.logical--><polygon fill="#FFFFFF" filter="url(#fahjve0uib496)" points="46,67,100,67,107,89.4883,981,89.4883,981,1179,46,1179,46,67" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="46" x2="107" y1="89.4883" y2="89.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="48" x="50" y="82.5352">logical</text><!--cluster edu.xjtu.cs.cyx.qshield--><polygon fill="#FFFFFF" filter="url(#fahjve0uib496)" points="1029,326,1192,326,1199,348.4883,1625,348.4883,1625,920,1029,920,1029,326" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1029" x2="1199" y1="348.4883" y2="348.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="157" x="1033" y="341.5352">edu.xjtu.cs.cyx.qshield</text><!--cluster edu.xjtu.cs.cyx.qshield.logical--><polygon fill="#FFFFFF" filter="url(#fahjve0uib496)" points="1053,369,1107,369,1114,391.4883,1601,391.4883,1601,896,1053,896,1053,369" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1053" x2="1114" y1="391.4883" y2="391.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="48" x="1057" y="384.5352">logical</text><path d="M300.5,102.5 L300.5,127.8105 L513.5,127.8105 L513.5,112.5 L503.5,102.5 L300.5,102.5 " fill="#FBFB77" filter="url(#fahjve0uib496)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M503.5,102.5 L503.5,112.5 L513.5,112.5 L503.5,102.5 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="306.5" y="120.0684">Associate with operators.scala</text><!--class edu.berkeley.cs.rise.opaque.logical.OpaqueOperator--><rect fill="#FEFECE" filter="url(#fahjve0uib496)" height="67.2207" id="edu.berkeley.cs.rise.opaque.logical.OpaqueOperator" style="stroke: #A80036; stroke-width: 1.5;" width="153" x="812" y="642.5"/><ellipse cx="837.35" cy="661.6328" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M833.7777,657.8979 L833.7777,655.7397 L841.1571,655.7397 L841.1571,657.8979 L838.6918,657.8979 L838.6918,665.9746 L841.1571,665.9746 L841.1571,668.1328 L833.7777,668.1328 L833.7777,665.9746 L836.2431,665.9746 L836.2431,657.8979 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="35" x="885.15" y="659.1016">«trait»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="98" x="853.65" y="673.2344">OpaqueOperator</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="813" x2="964" y1="680.7656" y2="680.7656"/><ellipse cx="823" cy="692.7432" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="127" x="832" y="695.4004">references: AttributeSet</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="813" x2="964" y1="701.7207" y2="701.7207"/><!--class edu.berkeley.cs.rise.opaque.logical.Encrypt--><rect fill="#FEFECE" filter="url(#fahjve0uib496)" height="73.9102" id="edu.berkeley.cs.rise.opaque.logical.Encrypt" style="stroke: #A80036; stroke-width: 1.5;" width="153" x="330.5" y="163"/><ellipse cx="381.25" cy="179" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M383.7231,185.1431 Q383.1421,185.4419 382.5029,185.5913 Q381.8638,185.7407 381.1582,185.7407 Q378.6514,185.7407 377.3315,184.0889 Q376.0117,182.437 376.0117,179.3159 Q376.0117,176.1865 377.3315,174.5347 Q378.6514,172.8828 381.1582,172.8828 Q381.8638,172.8828 382.5112,173.0322 Q383.1587,173.1816 383.7231,173.4805 L383.7231,176.2031 Q383.0923,175.6221 382.4988,175.3523 Q381.9053,175.0825 381.2744,175.0825 Q379.9297,175.0825 379.2449,176.1492 Q378.5601,177.2158 378.5601,179.3159 Q378.5601,181.4077 379.2449,182.4744 Q379.9297,183.541 381.2744,183.541 Q381.9053,183.541 382.4988,183.2712 Q383.0923,183.0015 383.7231,182.4204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="43" x="401.75" y="183.5352">Encrypt</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="331.5" x2="482.5" y1="195" y2="195"/><ellipse cx="341.5" cy="206.9775" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="350.5" y="209.6348">output: Seq[Attribute]</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="331.5" x2="482.5" y1="215.9551" y2="215.9551"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="141" x="336.5" y="230.5898">Encrypt(child: LogicalPlan)</text><!--class edu.berkeley.cs.rise.opaque.logical.EncryptedLocalRelation--><rect fill="#FEFECE" filter="url(#fahjve0uib496)" height="86.8652" id="edu.berkeley.cs.rise.opaque.logical.EncryptedLocalRelation" style="stroke: #A80036; stroke-width: 1.5;" width="449" x="182.5" y="272.5"/><ellipse cx="336.25" cy="288.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M338.7231,294.6431 Q338.1421,294.9419 337.5029,295.0913 Q336.8638,295.2407 336.1582,295.2407 Q333.6514,295.2407 332.3315,293.5889 Q331.0117,291.937 331.0117,288.8159 Q331.0117,285.6865 332.3315,284.0347 Q333.6514,282.3828 336.1582,282.3828 Q336.8638,282.3828 337.5112,282.5322 Q338.1587,282.6816 338.7231,282.9805 L338.7231,285.7031 Q338.0923,285.1221 337.4988,284.8523 Q336.9053,284.5825 336.2744,284.5825 Q334.9297,284.5825 334.2449,285.6492 Q333.5601,286.7158 333.5601,288.8159 Q333.5601,290.9077 334.2449,291.9744 Q334.9297,293.041 336.2744,293.041 Q336.9053,293.041 337.4988,292.7712 Q338.0923,292.5015 338.7231,291.9204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="133" x="356.75" y="293.0352">EncryptedLocalRelation</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="183.5" x2="630.5" y1="304.5" y2="304.5"/><polygon fill="none" points="193.5,311.4775,197.5,315.4775,193.5,319.4775,189.5,315.4775" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="104" x="202.5" y="319.1348">stringArgs: Iterator</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="183.5" x2="630.5" y1="325.4551" y2="325.4551"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="423" x="202.5" y="340.0898">EncryptedLocalRelation(output: Seq[Attribute], plaintextData: Seq[InternalRow])</text><ellipse cx="193.5" cy="350.3877" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="205" x="202.5" y="353.0449">newInstance(): EncryptedLocalRelation</text><!--class edu.berkeley.cs.rise.opaque.logical.EncryptedBlockRDD--><rect fill="#FEFECE" filter="url(#fahjve0uib496)" height="99.8203" id="edu.berkeley.cs.rise.opaque.logical.EncryptedBlockRDD" style="stroke: #A80036; stroke-width: 1.5;" width="346" x="234" y="395"/><ellipse cx="345.75" cy="411" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M348.2231,417.1431 Q347.6421,417.4419 347.0029,417.5913 Q346.3638,417.7407 345.6582,417.7407 Q343.1514,417.7407 341.8315,416.0889 Q340.5117,414.437 340.5117,411.3159 Q340.5117,408.1865 341.8315,406.5347 Q343.1514,404.8828 345.6582,404.8828 Q346.3638,404.8828 347.0112,405.0322 Q347.6587,405.1816 348.2231,405.4805 L348.2231,408.2031 Q347.5923,407.6221 346.9988,407.3523 Q346.4053,407.0825 345.7744,407.0825 Q344.4297,407.0825 343.7449,408.1492 Q343.0601,409.2158 343.0601,411.3159 Q343.0601,413.4077 343.7449,414.4744 Q344.4297,415.541 345.7744,415.541 Q346.4053,415.541 346.9988,415.2712 Q347.5923,415.0015 348.2231,414.4204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="114" x="366.25" y="415.5352">EncryptedBlockRDD</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="235" x2="579" y1="427" y2="427"/><ellipse cx="245" cy="438.9775" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="137" x="254" y="441.6348">children: Seq[LogicalPlan]</text><ellipse cx="245" cy="451.9326" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="176" x="254" y="454.5898">producedAttributes: AttributeSet</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="235" x2="579" y1="460.9102" y2="460.9102"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="320" x="254" y="475.5449">EncryptedBlockRDD(output: Seq[Attribute], rdd: RDD[Block])</text><ellipse cx="245" cy="485.8428" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="185" x="254" y="488.5">newInstance(): EncryptedBlockRDD</text><!--class edu.berkeley.cs.rise.opaque.logical.EncryptedProject--><rect fill="#FEFECE" filter="url(#fahjve0uib496)" height="73.9102" id="edu.berkeley.cs.rise.opaque.logical.EncryptedProject" style="stroke: #A80036; stroke-width: 1.5;" width="427" x="193.5" y="530"/><ellipse cx="353.75" cy="546" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M356.2231,552.1431 Q355.6421,552.4419 355.0029,552.5913 Q354.3638,552.7407 353.6582,552.7407 Q351.1514,552.7407 349.8315,551.0889 Q348.5117,549.437 348.5117,546.3159 Q348.5117,543.1865 349.8315,541.5347 Q351.1514,539.8828 353.6582,539.8828 Q354.3638,539.8828 355.0112,540.0322 Q355.6587,540.1816 356.2231,540.4805 L356.2231,543.2031 Q355.5923,542.6221 354.9988,542.3523 Q354.4053,542.0825 353.7744,542.0825 Q352.4297,542.0825 351.7449,543.1492 Q351.0601,544.2158 351.0601,546.3159 Q351.0601,548.4077 351.7449,549.4744 Q352.4297,550.541 353.7744,550.541 Q354.4053,550.541 354.9988,550.2712 Q355.5923,550.0015 356.2231,549.4204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="98" x="374.25" y="550.5352">EncryptedProject</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="194.5" x2="619.5" y1="562" y2="562"/><ellipse cx="204.5" cy="573.9775" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="213.5" y="576.6348">output: Seq[Attribute]</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="194.5" x2="619.5" y1="582.9551" y2="582.9551"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="415" x="199.5" y="597.5898">EncryptedProject(projectList: Seq[NamedExpression], child: OpaqueOperator)</text><!--class edu.berkeley.cs.rise.opaque.logical.EncryptedFilter--><rect fill="#FEFECE" filter="url(#fahjve0uib496)" height="73.9102" id="edu.berkeley.cs.rise.opaque.logical.EncryptedFilter" style="stroke: #A80036; stroke-width: 1.5;" width="347" x="233.5" y="639"/><ellipse cx="359.75" cy="655" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M362.2231,661.1431 Q361.6421,661.4419 361.0029,661.5913 Q360.3638,661.7407 359.6582,661.7407 Q357.1514,661.7407 355.8315,660.0889 Q354.5117,658.437 354.5117,655.3159 Q354.5117,652.1865 355.8315,650.5347 Q357.1514,648.8828 359.6582,648.8828 Q360.3638,648.8828 361.0112,649.0322 Q361.6587,649.1816 362.2231,649.4805 L362.2231,652.2031 Q361.5923,651.6221 360.9988,651.3523 Q360.4053,651.0825 359.7744,651.0825 Q358.4297,651.0825 357.7449,652.1492 Q357.0601,653.2158 357.0601,655.3159 Q357.0601,657.4077 357.7449,658.4744 Q358.4297,659.541 359.7744,659.541 Q360.4053,659.541 360.9988,659.2712 Q361.5923,659.0015 362.2231,658.4204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="86" x="380.25" y="659.5352">EncryptedFilter</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="234.5" x2="579.5" y1="671" y2="671"/><ellipse cx="244.5" cy="682.9775" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="253.5" y="685.6348">output: Seq[Attribute]</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="234.5" x2="579.5" y1="691.9551" y2="691.9551"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="335" x="239.5" y="706.5898">EncryptedFilter(condition: Expression, child: OpaqueOperator)</text><!--class edu.berkeley.cs.rise.opaque.logical.EncryptedSort--><rect fill="#FEFECE" filter="url(#fahjve0uib496)" height="73.9102" id="edu.berkeley.cs.rise.opaque.logical.EncryptedSort" style="stroke: #A80036; stroke-width: 1.5;" width="342" x="236" y="748"/><ellipse cx="362.75" cy="764" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M365.2231,770.1431 Q364.6421,770.4419 364.0029,770.5913 Q363.3638,770.7407 362.6582,770.7407 Q360.1514,770.7407 358.8315,769.0889 Q357.5117,767.437 357.5117,764.3159 Q357.5117,761.1865 358.8315,759.5347 Q360.1514,757.8828 362.6582,757.8828 Q363.3638,757.8828 364.0112,758.0322 Q364.6587,758.1816 365.2231,758.4805 L365.2231,761.2031 Q364.5923,760.6221 363.9988,760.3523 Q363.4053,760.0825 362.7744,760.0825 Q361.4297,760.0825 360.7449,761.1492 Q360.0601,762.2158 360.0601,764.3159 Q360.0601,766.4077 360.7449,767.4744 Q361.4297,768.541 362.7744,768.541 Q363.4053,768.541 363.9988,768.2712 Q364.5923,768.0015 365.2231,767.4204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="80" x="383.25" y="768.5352">EncryptedSort</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="237" x2="577" y1="780" y2="780"/><ellipse cx="247" cy="791.9775" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="256" y="794.6348">output: Seq[Attribute]</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="237" x2="577" y1="800.9551" y2="800.9551"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="330" x="242" y="815.5898">EncryptedSort(order: Seq[SortOrder], child: OpaqueOperator)</text><!--class edu.berkeley.cs.rise.opaque.logical.EncryptedAggregate--><rect fill="#FEFECE" filter="url(#fahjve0uib496)" height="86.8652" id="edu.berkeley.cs.rise.opaque.logical.EncryptedAggregate" style="stroke: #A80036; stroke-width: 1.5;" width="690" x="62" y="857.5"/><ellipse cx="344.25" cy="873.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M346.7231,879.6431 Q346.1421,879.9419 345.5029,880.0913 Q344.8638,880.2407 344.1582,880.2407 Q341.6514,880.2407 340.3315,878.5889 Q339.0117,876.937 339.0117,873.8159 Q339.0117,870.6865 340.3315,869.0347 Q341.6514,867.3828 344.1582,867.3828 Q344.8638,867.3828 345.5112,867.5322 Q346.1587,867.6816 346.7231,867.9805 L346.7231,870.7031 Q346.0923,870.1221 345.4988,869.8523 Q344.9053,869.5825 344.2744,869.5825 Q342.9297,869.5825 342.2449,870.6492 Q341.5601,871.7158 341.5601,873.8159 Q341.5601,875.9077 342.2449,876.9744 Q342.9297,878.041 344.2744,878.041 Q344.9053,878.041 345.4988,877.7712 Q346.0923,877.5015 346.7231,876.9204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="117" x="364.75" y="878.0352">EncryptedAggregate</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="63" x2="751" y1="889.5" y2="889.5"/><ellipse cx="73" cy="901.4775" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="176" x="82" y="904.1348">producedAttributes: AttributeSet</text><ellipse cx="73" cy="914.4326" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="82" y="917.0898">output: Seq[Attribute]</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="63" x2="751" y1="923.4102" y2="923.4102"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="678" x="68" y="938.0449">EncryptedAggregate(groupingExpressions: Seq[Expression], aggExpressions: Seq[NamedExpression], child: OpaqueOperator)</text><!--class edu.berkeley.cs.rise.opaque.logical.EncryptedJoin--><rect fill="#FEFECE" filter="url(#fahjve0uib496)" height="73.9102" id="edu.berkeley.cs.rise.opaque.logical.EncryptedJoin" style="stroke: #A80036; stroke-width: 1.5;" width="609" x="102.5" y="980"/><ellipse cx="363.25" cy="996" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M365.7231,1002.1431 Q365.1421,1002.4419 364.5029,1002.5913 Q363.8638,1002.7407 363.1582,1002.7407 Q360.6514,1002.7407 359.3315,1001.0889 Q358.0117,999.437 358.0117,996.3159 Q358.0117,993.1865 359.3315,991.5347 Q360.6514,989.8828 363.1582,989.8828 Q363.8638,989.8828 364.5112,990.0322 Q365.1587,990.1816 365.7231,990.4805 L365.7231,993.2031 Q365.0923,992.6221 364.4988,992.3523 Q363.9053,992.0825 363.2744,992.0825 Q361.9297,992.0825 361.2449,993.1492 Q360.5601,994.2158 360.5601,996.3159 Q360.5601,998.4077 361.2449,999.4744 Q361.9297,1000.541 363.2744,1000.541 Q363.9053,1000.541 364.4988,1000.2712 Q365.0923,1000.0015 365.7231,999.4204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="79" x="383.75" y="1000.5352">EncryptedJoin</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="103.5" x2="710.5" y1="1012" y2="1012"/><ellipse cx="113.5" cy="1023.9775" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="122.5" y="1026.6348">output: Seq[Attribute]</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="103.5" x2="710.5" y1="1032.9551" y2="1032.9551"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="597" x="108.5" y="1047.5898">EncryptedJoin(left: OpaqueOperator, right: OpaqueOperator, joinType: JoinType, condition: Option[Expression])</text><!--class edu.berkeley.cs.rise.opaque.logical.EncryptedUnion--><rect fill="#FEFECE" filter="url(#fahjve0uib496)" height="73.9102" id="edu.berkeley.cs.rise.opaque.logical.EncryptedUnion" style="stroke: #A80036; stroke-width: 1.5;" width="349" x="232.5" y="1089"/><ellipse cx="357.75" cy="1105" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M360.2231,1111.1431 Q359.6421,1111.4419 359.0029,1111.5913 Q358.3638,1111.7407 357.6582,1111.7407 Q355.1514,1111.7407 353.8315,1110.0889 Q352.5117,1108.437 352.5117,1105.3159 Q352.5117,1102.1865 353.8315,1100.5347 Q355.1514,1098.8828 357.6582,1098.8828 Q358.3638,1098.8828 359.0112,1099.0322 Q359.6587,1099.1816 360.2231,1099.4805 L360.2231,1102.2031 Q359.5923,1101.6221 358.9988,1101.3523 Q358.4053,1101.0825 357.7744,1101.0825 Q356.4297,1101.0825 355.7449,1102.1492 Q355.0601,1103.2158 355.0601,1105.3159 Q355.0601,1107.4077 355.7449,1108.4744 Q356.4297,1109.541 357.7744,1109.541 Q358.4053,1109.541 358.9988,1109.2712 Q359.5923,1109.0015 360.2231,1108.4204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="90" x="378.25" y="1109.5352">EncryptedUnion</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="233.5" x2="580.5" y1="1121" y2="1121"/><ellipse cx="243.5" cy="1132.9775" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="252.5" y="1135.6348">output: Seq[Attribute]</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="233.5" x2="580.5" y1="1141.9551" y2="1141.9551"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="337" x="238.5" y="1156.5898">EncryptedUnion(left: OpaqueOperator, right: OpaqueOperator)</text><path d="M1220.5,404.5 L1220.5,429.8105 L1433.5,429.8105 L1433.5,414.5 L1423.5,404.5 L1220.5,404.5 " fill="#FBFB77" filter="url(#fahjve0uib496)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1423.5,404.5 L1423.5,414.5 L1433.5,414.5 L1423.5,404.5 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="1226.5" y="422.0684">Associate with operators.scala</text><!--class edu.xjtu.cs.cyx.qshield.logical.ACPolicyApply--><rect fill="#FEFECE" filter="url(#fahjve0uib496)" height="73.9102" id="edu.xjtu.cs.cyx.qshield.logical.ACPolicyApply" style="stroke: #A80036; stroke-width: 1.5;" width="272" x="1191" y="465"/><ellipse cx="1282.25" cy="481" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1284.7231,487.1431 Q1284.1421,487.4419 1283.5029,487.5913 Q1282.8638,487.7407 1282.1582,487.7407 Q1279.6514,487.7407 1278.3315,486.0889 Q1277.0117,484.437 1277.0117,481.3159 Q1277.0117,478.1865 1278.3315,476.5347 Q1279.6514,474.8828 1282.1582,474.8828 Q1282.8638,474.8828 1283.5112,475.0322 Q1284.1587,475.1816 1284.7231,475.4805 L1284.7231,478.2031 Q1284.0923,477.6221 1283.4988,477.3523 Q1282.9053,477.0825 1282.2744,477.0825 Q1280.9297,477.0825 1280.2449,478.1492 Q1279.5601,479.2158 1279.5601,481.3159 Q1279.5601,483.4077 1280.2449,484.4744 Q1280.9297,485.541 1282.2744,485.541 Q1282.9053,485.541 1283.4988,485.2712 Q1284.0923,485.0015 1284.7231,484.4204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="81" x="1302.75" y="485.5352">ACPolicyApply</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1192" x2="1462" y1="497" y2="497"/><ellipse cx="1202" cy="508.9775" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="1211" y="511.6348">output: Seq[Attribute]</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1192" x2="1462" y1="517.9551" y2="517.9551"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="260" x="1197" y="532.5898">ACPolicyApply(child: LogicalPlan, tk: Array[Byte])</text><!--class edu.xjtu.cs.cyx.qshield.logical.ACPolicyAppliedEncryptedBlockRDD--><rect fill="#FEFECE" filter="url(#fahjve0uib496)" height="86.8652" id="edu.xjtu.cs.cyx.qshield.logical.ACPolicyAppliedEncryptedBlockRDD" style="stroke: #A80036; stroke-width: 1.5;" width="516" x="1069" y="574.5"/><ellipse cx="1219.25" cy="590.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1221.7231,596.6431 Q1221.1421,596.9419 1220.5029,597.0913 Q1219.8638,597.2407 1219.1582,597.2407 Q1216.6514,597.2407 1215.3315,595.5889 Q1214.0117,593.937 1214.0117,590.8159 Q1214.0117,587.6865 1215.3315,586.0347 Q1216.6514,584.3828 1219.1582,584.3828 Q1219.8638,584.3828 1220.5112,584.5322 Q1221.1587,584.6816 1221.7231,584.9805 L1221.7231,587.7031 Q1221.0923,587.1221 1220.4988,586.8523 Q1219.9053,586.5825 1219.2744,586.5825 Q1217.9297,586.5825 1217.2449,587.6492 Q1216.5601,588.7158 1216.5601,590.8159 Q1216.5601,592.9077 1217.2449,593.9744 Q1217.9297,595.041 1219.2744,595.041 Q1219.9053,595.041 1220.4988,594.7712 Q1221.0923,594.5015 1221.7231,593.9204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="207" x="1239.75" y="595.0352">ACPolicyAppliedEncryptedBlockRDD</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1070" x2="1584" y1="606.5" y2="606.5"/><polygon fill="none" points="1080,613.4775,1084,617.4775,1080,621.4775,1076,617.4775" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="104" x="1089" y="621.1348">stringArgs: Iterator</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1070" x2="1584" y1="627.4551" y2="627.4551"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="490" x="1089" y="642.0898">ACPolicyAppliedEncryptedBlockRDD(output: Seq[Attribute], rdd: RDD[Block], tk: Array[Byte])</text><ellipse cx="1080" cy="652.3877" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="273" x="1089" y="655.0449">newInstance(): ACPolicyAppliedEncryptedBlockRDD</text><!--class edu.xjtu.cs.cyx.qshield.logical.ResPrepared--><rect fill="#FEFECE" filter="url(#fahjve0uib496)" height="73.9102" id="edu.xjtu.cs.cyx.qshield.logical.ResPrepared" style="stroke: #A80036; stroke-width: 1.5;" width="179" x="1237.5" y="697"/><ellipse cx="1285.25" cy="713" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1287.7231,719.1431 Q1287.1421,719.4419 1286.5029,719.5913 Q1285.8638,719.7407 1285.1582,719.7407 Q1282.6514,719.7407 1281.3315,718.0889 Q1280.0117,716.437 1280.0117,713.3159 Q1280.0117,710.1865 1281.3315,708.5347 Q1282.6514,706.8828 1285.1582,706.8828 Q1285.8638,706.8828 1286.5112,707.0322 Q1287.1587,707.1816 1287.7231,707.4805 L1287.7231,710.2031 Q1287.0923,709.6221 1286.4988,709.3523 Q1285.9053,709.0825 1285.2744,709.0825 Q1283.9297,709.0825 1283.2449,710.1492 Q1282.5601,711.2158 1282.5601,713.3159 Q1282.5601,715.4077 1283.2449,716.4744 Q1283.9297,717.541 1285.2744,717.541 Q1285.9053,717.541 1286.4988,717.2712 Q1287.0923,717.0015 1287.7231,716.4204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="75" x="1305.75" y="717.5352">ResPrepared</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1238.5" x2="1415.5" y1="729" y2="729"/><ellipse cx="1248.5" cy="740.9775" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="1257.5" y="743.6348">output: Seq[Attribute]</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1238.5" x2="1415.5" y1="749.9551" y2="749.9551"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="167" x="1243.5" y="764.5898">ResPrepared(child: LogicalPlan)</text><!--class edu.xjtu.cs.cyx.qshield.logical.ResPreparedEncryptedBlockRDD--><rect fill="#FEFECE" filter="url(#fahjve0uib496)" height="73.9102" id="edu.xjtu.cs.cyx.qshield.logical.ResPreparedEncryptedBlockRDD" style="stroke: #A80036; stroke-width: 1.5;" width="284" x="1185" y="806"/><ellipse cx="1228.35" cy="822" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1230.8231,828.1431 Q1230.2421,828.4419 1229.6029,828.5913 Q1228.9638,828.7407 1228.2582,828.7407 Q1225.7514,828.7407 1224.4315,827.0889 Q1223.1117,825.437 1223.1117,822.3159 Q1223.1117,819.1865 1224.4315,817.5347 Q1225.7514,815.8828 1228.2582,815.8828 Q1228.9638,815.8828 1229.6112,816.0322 Q1230.2587,816.1816 1230.8231,816.4805 L1230.8231,819.2031 Q1230.1923,818.6221 1229.5988,818.3523 Q1229.0053,818.0825 1228.3744,818.0825 Q1227.0297,818.0825 1226.3449,819.1492 Q1225.6601,820.2158 1225.6601,822.3159 Q1225.6601,824.4077 1226.3449,825.4744 Q1227.0297,826.541 1228.3744,826.541 Q1229.0053,826.541 1229.5988,826.2712 Q1230.1923,826.0015 1230.8231,825.4204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="189" x="1248.65" y="826.5352">ResPreparedEncryptedBlockRDD</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1186" x2="1468" y1="838" y2="838"/><ellipse cx="1196" cy="849.9775" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="1205" y="852.6348">output: Seq[Attribute]</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1186" x2="1468" y1="858.9551" y2="858.9551"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="272" x="1191" y="873.5898">ResPreparedEncryptedBlockRDD(child: LogicalPlan)</text><!--link edu.berkeley.cs.rise.opaque.logical.Encrypt to edu.berkeley.cs.rise.opaque.logical.OpaqueOperator--><path d="M483.71,190.95 C560.36,186.16 677.86,191.41 752,255 C861.41,348.85 883.22,531.46 887.07,622.18 " fill="none" id="edu.berkeley.cs.rise.opaque.logical.Encrypt-edu.berkeley.cs.rise.opaque.logical.OpaqueOperator" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="894.08,622.18,887.69,642.39,880.08,622.61,894.08,622.18" style="stroke: #A80036; stroke-width: 1.0;"/><!--link edu.berkeley.cs.rise.opaque.logical.EncryptedLocalRelation to edu.berkeley.cs.rise.opaque.logical.OpaqueOperator--><path d="M631.77,323.62 C674.92,333.55 717.39,350.12 752,377 C830.35,437.86 864.8,554.2 878.82,622.44 " fill="none" id="edu.berkeley.cs.rise.opaque.logical.EncryptedLocalRelation-edu.berkeley.cs.rise.opaque.logical.OpaqueOperator" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="885.75,621.4,882.62,642.36,872,624.02,885.75,621.4" style="stroke: #A80036; stroke-width: 1.0;"/><!--link edu.berkeley.cs.rise.opaque.logical.EncryptedBlockRDD to edu.berkeley.cs.rise.opaque.logical.OpaqueOperator--><path d="M580.35,455.17 C638,464.49 700.61,481.45 752,512 C797.84,539.25 835.07,587.92 858.82,625.19 " fill="none" id="edu.berkeley.cs.rise.opaque.logical.EncryptedBlockRDD-edu.berkeley.cs.rise.opaque.logical.OpaqueOperator" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="864.9,621.71,869.38,642.43,852.97,629.03,864.9,621.71" style="stroke: #A80036; stroke-width: 1.0;"/><!--link edu.berkeley.cs.rise.opaque.logical.EncryptedProject to edu.berkeley.cs.rise.opaque.logical.OpaqueOperator--><path d="M620.67,592.55 C664.5,600 710.06,609.36 752,621 C766.04,624.9 780.6,629.81 794.74,635.09 " fill="none" id="edu.berkeley.cs.rise.opaque.logical.EncryptedProject-edu.berkeley.cs.rise.opaque.logical.OpaqueOperator" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="797.57,628.68,813.67,642.46,792.49,641.73,797.57,628.68" style="stroke: #A80036; stroke-width: 1.0;"/><!--link edu.berkeley.cs.rise.opaque.logical.EncryptedFilter to edu.berkeley.cs.rise.opaque.logical.OpaqueOperator--><path d="M580.77,676 C651.87,676 731.51,676 791.81,676 " fill="none" id="edu.berkeley.cs.rise.opaque.logical.EncryptedFilter-edu.berkeley.cs.rise.opaque.logical.OpaqueOperator" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="791.89,669,811.89,676,791.89,683,791.89,669" style="stroke: #A80036; stroke-width: 1.0;"/><!--link edu.berkeley.cs.rise.opaque.logical.EncryptedSort to edu.berkeley.cs.rise.opaque.logical.OpaqueOperator--><path d="M578.44,765.35 C634.31,756.89 696.32,745.34 752,730 C765.44,726.3 779.37,721.69 792.95,716.74 " fill="none" id="edu.berkeley.cs.rise.opaque.logical.EncryptedSort-edu.berkeley.cs.rise.opaque.logical.OpaqueOperator" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="790.65,710.12,811.83,709.56,795.62,723.21,790.65,710.12" style="stroke: #A80036; stroke-width: 1.0;"/><!--link edu.berkeley.cs.rise.opaque.logical.EncryptedAggregate to edu.berkeley.cs.rise.opaque.logical.OpaqueOperator--><path d="M715.48,857.33 C728.1,851.89 740.34,845.8 752,839 C797.9,812.24 835.12,763.82 858.86,726.68 " fill="none" id="edu.berkeley.cs.rise.opaque.logical.EncryptedAggregate-edu.berkeley.cs.rise.opaque.logical.OpaqueOperator" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="852.98,722.89,869.41,709.5,864.91,730.21,852.98,722.89" style="stroke: #A80036; stroke-width: 1.0;"/><!--link edu.berkeley.cs.rise.opaque.logical.EncryptedJoin to edu.berkeley.cs.rise.opaque.logical.OpaqueOperator--><path d="M711.61,986.43 C725.85,979.52 739.42,971.43 752,962 C827.76,905.19 862.93,795.24 877.82,729.46 " fill="none" id="edu.berkeley.cs.rise.opaque.logical.EncryptedJoin-edu.berkeley.cs.rise.opaque.logical.OpaqueOperator" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="870.99,727.9,881.97,709.77,884.69,730.79,870.99,727.9" style="stroke: #A80036; stroke-width: 1.0;"/><!--link edu.berkeley.cs.rise.opaque.logical.EncryptedUnion to edu.berkeley.cs.rise.opaque.logical.OpaqueOperator--><path d="M581.77,1133.22 C641.54,1127.27 705.14,1110.42 752,1071 C854.92,984.41 879.83,815.87 885.75,729.63 " fill="none" id="edu.berkeley.cs.rise.opaque.logical.EncryptedUnion-edu.berkeley.cs.rise.opaque.logical.OpaqueOperator" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="878.76,729.16,886.88,709.58,892.74,729.95,878.76,729.16" style="stroke: #A80036; stroke-width: 1.0;"/><!--link edu.berkeley.cs.rise.opaque.logical.OpaqueOperator to edu.xjtu.cs.cyx.qshield.logical.ACPolicyApply--><path d="M930.64,627.53 C954.49,602.58 986.56,573.93 1021,557 C1073.27,531.3 1135.87,517.5 1190.72,510.13 " fill="none" id="edu.berkeley.cs.rise.opaque.logical.OpaqueOperator-edu.xjtu.cs.cyx.qshield.logical.ACPolicyApply" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="935.6,632.47,916.9,642.44,925.3,622.99,935.6,632.47" style="stroke: #A80036; stroke-width: 1.0;"/><!--link edu.berkeley.cs.rise.opaque.logical.OpaqueOperator to edu.xjtu.cs.cyx.qshield.logical.ACPolicyAppliedEncryptedBlockRDD--><path d="M985.05,663.3 C1010.38,659.94 1038.98,656.14 1068.57,652.21 " fill="none" id="edu.berkeley.cs.rise.opaque.logical.OpaqueOperator-edu.xjtu.cs.cyx.qshield.logical.ACPolicyAppliedEncryptedBlockRDD" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="985.78,670.27,965.03,665.96,983.94,656.39,985.78,670.27" style="stroke: #A80036; stroke-width: 1.0;"/><!--link edu.berkeley.cs.rise.opaque.logical.OpaqueOperator to edu.xjtu.cs.cyx.qshield.logical.ResPrepared--><path d="M984.94,688.68 C1060.13,698.67 1164.15,712.49 1237.49,722.24 " fill="none" id="edu.berkeley.cs.rise.opaque.logical.OpaqueOperator-edu.xjtu.cs.cyx.qshield.logical.ResPrepared" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="983.94,695.61,965.03,686.04,985.78,681.73,983.94,695.61" style="stroke: #A80036; stroke-width: 1.0;"/><!--link edu.berkeley.cs.rise.opaque.logical.OpaqueOperator to edu.xjtu.cs.cyx.qshield.logical.ResPreparedEncryptedBlockRDD--><path d="M933.76,724.11 C957.45,746.96 988.42,772.59 1021,788 C1071.7,811.99 1131.69,825.56 1184.99,833.22 " fill="none" id="edu.berkeley.cs.rise.opaque.logical.OpaqueOperator-edu.xjtu.cs.cyx.qshield.logical.ResPreparedEncryptedBlockRDD" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="928.48,728.73,919.3,709.63,938.38,718.84,928.48,728.73" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml
left to right direction
namespace edu.berkeley.cs.rise.opaque{
  namespace logical{

    note as N1
      Associate with operators.scala
    end note

    interface OpaqueOperator <<trait>> {
      +references: AttributeSet
    }

    class Encrypt{
      +output: Seq[Attribute]
      Encrypt(child: LogicalPlan)
    }
    class EncryptedLocalRelation{
      #stringArgs: Iterator
      EncryptedLocalRelation(output: Seq[Attribute], plaintextData: Seq[InternalRow])
      +newInstance(): EncryptedLocalRelation
    }
    class EncryptedBlockRDD{
      +children: Seq[LogicalPlan]
      +producedAttributes: AttributeSet
      EncryptedBlockRDD(output: Seq[Attribute], rdd: RDD[Block])
      +newInstance(): EncryptedBlockRDD
    }
    class EncryptedProject{
      +output: Seq[Attribute]
      EncryptedProject(projectList: Seq[NamedExpression], child: OpaqueOperator)
    }
    class EncryptedFilter{
      +output: Seq[Attribute]
      EncryptedFilter(condition: Expression, child: OpaqueOperator)
    }
    class EncryptedSort{
      +output: Seq[Attribute]
      EncryptedSort(order: Seq[SortOrder], child: OpaqueOperator)
    }
    class EncryptedAggregate{
      +producedAttributes: AttributeSet
      +output: Seq[Attribute]
      EncryptedAggregate(groupingExpressions: Seq[Expression], aggExpressions: Seq[NamedExpression], child: OpaqueOperator)
    }
    class EncryptedJoin{
      +output: Seq[Attribute]
      EncryptedJoin(left: OpaqueOperator, right: OpaqueOperator, joinType: JoinType, condition: Option[Expression])
    }
    class EncryptedUnion{
      +output: Seq[Attribute]
      EncryptedUnion(left: OpaqueOperator, right: OpaqueOperator)
    }
  }
}

namespace edu.xjtu.cs.cyx.qshield{
  namespace logical{

    note as N1
      Associate with operators.scala
    end note

    class ACPolicyApply{
      ACPolicyApply(child: LogicalPlan, tk: Array[Byte])
      +output: Seq[Attribute]
    }
    class ACPolicyAppliedEncryptedBlockRDD{
      ACPolicyAppliedEncryptedBlockRDD(output: Seq[Attribute], rdd: RDD[Block], tk: Array[Byte])
      +newInstance(): ACPolicyAppliedEncryptedBlockRDD
      #stringArgs: Iterator
    }
    class ResPrepared{
      ResPrepared(child: LogicalPlan)
      +output: Seq[Attribute]
    }
    class ResPreparedEncryptedBlockRDD{
      ResPreparedEncryptedBlockRDD(child: LogicalPlan)
      +output: Seq[Attribute]
    }
  }
}

edu.berkeley.cs.rise.opaque.logical.Encrypt ..|> edu.berkeley.cs.rise.opaque.logical.OpaqueOperator
edu.berkeley.cs.rise.opaque.logical.EncryptedLocalRelation ..|> edu.berkeley.cs.rise.opaque.logical.OpaqueOperator
edu.berkeley.cs.rise.opaque.logical.EncryptedBlockRDD ..|> edu.berkeley.cs.rise.opaque.logical.OpaqueOperator
edu.berkeley.cs.rise.opaque.logical.EncryptedProject ..|> edu.berkeley.cs.rise.opaque.logical.OpaqueOperator
edu.berkeley.cs.rise.opaque.logical.EncryptedFilter ..|> edu.berkeley.cs.rise.opaque.logical.OpaqueOperator
edu.berkeley.cs.rise.opaque.logical.EncryptedSort ..|> edu.berkeley.cs.rise.opaque.logical.OpaqueOperator
edu.berkeley.cs.rise.opaque.logical.EncryptedAggregate ..|> edu.berkeley.cs.rise.opaque.logical.OpaqueOperator
edu.berkeley.cs.rise.opaque.logical.EncryptedJoin ..|> edu.berkeley.cs.rise.opaque.logical.OpaqueOperator
edu.berkeley.cs.rise.opaque.logical.EncryptedUnion ..|> edu.berkeley.cs.rise.opaque.logical.OpaqueOperator

edu.xjtu.cs.cyx.qshield.logical.ACPolicyApply .up.|> edu.berkeley.cs.rise.opaque.logical.OpaqueOperator
edu.xjtu.cs.cyx.qshield.logical.ACPolicyAppliedEncryptedBlockRDD .up.|> edu.berkeley.cs.rise.opaque.logical.OpaqueOperator
edu.xjtu.cs.cyx.qshield.logical.ResPrepared .up.|> edu.berkeley.cs.rise.opaque.logical.OpaqueOperator
edu.xjtu.cs.cyx.qshield.logical.ResPreparedEncryptedBlockRDD .up.|> edu.berkeley.cs.rise.opaque.logical.OpaqueOperator
@enduml

PlantUML version 1.2018.14(Sat Dec 22 00:33:16 CST 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 17.0.5+9-LTS-191
Operating System: Mac OS X
OS Version: 12.6
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>